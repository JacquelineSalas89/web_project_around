!function(){"use strict";var e=document.querySelector(".profile__avatar-icon"),t=document.querySelector("#close-form-avatar"),n=document.querySelector("#close-profile-form"),r=document.querySelector(".profile__name"),o=document.querySelector(".profile__about"),i=document.querySelector("#form-profile"),u=(document.querySelector("#profile-button-save"),document.querySelector(".profile__add-button")),a=(document.querySelector("#input-url-avatar"),document.querySelector(".profile__edit-button")),c=(document.querySelector("#input-card"),document.querySelector("#close-card-form")),s=(document.querySelector("#input-link"),document.querySelector("#form-card")),l=document.querySelector(".template__card"),f=document.querySelector(".elements"),p=document.querySelector("#delete-card-button"),y=(document.querySelector(".element__delete-button"),document.querySelector("#popup-change-avatar"),document.querySelector("#popup-image")),m=(document.querySelector("#popup-image-full"),document.querySelector("#popup-image-title"),document.querySelector("#close-popup-image")),d=document.querySelector("#close-form-delete-card");function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function b(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}var _=function(){return e=function e(t,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._likes=t.likes,this._userId=n,this._id=t._id,this.owner=t.owner,this._card=this.getTemplate(),this._handleCardClick=r,this._handleAddLike=o,this._handleRemoveLike=i,this.handleDeleteCard=u},(t=[{key:"getTemplate",value:function(){return l.cloneNode(!0).content.querySelector(".element")}},{key:"setProperties",value:function(){var e=this;this._cardImage=this._card.querySelector(".element__image"),this._cardTitle=this._card.querySelector(".element__text"),this._buttonlike=this._card.querySelector(".element__like-button"),this._likesCounter=this._card.querySelector(".element__like-counter"),this._buttonTrashCard=this._card.querySelector(".element__delete-button"),this.owner._id!==this._userId&&this._buttonTrashCard.remove(),this._likesCounter.textContent=this._likes.length,this._cardImage.src=this._link,this._cardTitle.textContent=this._name,this._likes.some((function(t){return t._id===e._userId}))&&this._buttonlike.classList.toggle("element__like-button_active")}},{key:"_handleOpenCard",value:function(){this._handleCardClick(),y.classList.add("popup__image_show"),this._popupImageFull=document.querySelector("#popup-image-full"),this._popupImageTitle=document.querySelector("#popup-image-title"),this._popupImageFull.src=this._cardImage.src,this._popupImageTitle.textContent=this._cardTitle.textContent,this._popupImageFull.alt=this._cardTitle.textContent}},{key:"removeCard",value:function(){this._card.remove()}},{key:"handleLike",value:function(){var e=this;this._likes.some((function(t){return t._id===e._userId}))?this._handleRemoveLike(this._id).then((function(t){e._buttonlike.classList.toggle("element__like-button_active"),e._likesCounter.textContent=t.likes.length,e._likes=t.likes})):this._handleAddLike(this._id).then((function(t){e._buttonlike.classList.toggle("element__like-button_active"),e._likesCounter.textContent=t.likes.length,e._likes=t.likes}))}},{key:"setEventListeners",value:function(){var e=this;this._buttonlike.addEventListener("click",(function(){e.handleLike()})),this._buttonTrashCard.addEventListener("click",(function(){e.handleDeleteCard(e._id)})),this._cardImage.addEventListener("click",(function(){e._handleOpenCard(e._name,e._link)}))}},{key:"generateCard",value:function(){return this.setProperties(),this.setEventListeners(),this._card}}])&&v(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function k(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}var E=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t,this._settings=n},(t=[{key:"_showInputError",value:function(e){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.add(this._settings.inputErrorClass),this._errorElement.textContent=e.validationMessage,this._errorElement.classList.add(this._settings.errorMessageClass)}},{key:"_hideInputError",value:function(e){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._settings.inputErrorClass),this._errorElement.classList.remove(this._settings.errorMessageClass),this._errorElement.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this.inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this.inputList)?this.buttonElement.classList.add(this._settings.inactiveButtonClass):this.buttonElement.classList.remove(this._settings.inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var e=this;this.inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this.buttonElement=this._formElement.querySelector(this._settings.submitButtonSelector),this._toggleButtonState(),this.inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState(e.inputList)}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&g(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}var P=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)},(t=[{key:"open",value:function(){this._popupElement.classList.add("popup_show"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_show"),this._popupElement.classList.remove("popup__image_show"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"savebutton",value:function(){this._buttonSaveInfo.textContent="Guardar"}},{key:"_saveChangesButton",value:function(){var e=this;return new Promise((function(t){setTimeout((function(){t()}),1e3),e._buttonSaveInfo.textContent="Guardando..."}))}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){t.target===e._popupElement&&e.close()}))}}])&&j(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function I(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O(t)?t:t+""}function q(e,t,n){return t=R(t),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,T()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},x.apply(null,arguments)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}var U=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=q(this,t,[e]))._formElement=r._popupElement.querySelector(".popup__form"),r.inputList=r._formElement.querySelectorAll(".popup__input"),r._handleFormSubmit=n,r._buttonSaveInfo=document.querySelector(".popup__button-save"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(t,e),n=t,(r=[{key:"getInputValues",value:function(){var e=this;return this.formValues={},console.log("this.inputList",this.inputList),this.inputList.forEach((function(t){e.formValues[t.name]=t.value})),console.log("this.formValues",this.formValues),this.formValues}},{key:"savebutton",value:function(){this._buttonSaveInfo.textContent="Guardar"}},{key:"_saveChangesButton",value:function(){var e=this;return new Promise((function(t){setTimeout((function(){t()}),1e3),e._buttonSaveInfo.textContent="Guardando..."}))}},{key:"close",value:function(){x(R(t.prototype),"close",this).call(this),this._formElement.reset(),this._buttonSaveInfo.textContent="Guardar"}},{key:"setEventListeners",value:function(){var e=this;x(R(t.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._buttonSaveInfo.textContent="Guardando...",e._handleFormSubmit(e.getInputValues()),e._saveChangesButton().then((function(){e.close()}))}))}}])&&L(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function A(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}function F(e,t,n){return t=M(t),function(e,t){if(t&&("object"==D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,G()?Reflect.construct(t,n||[],M(e).constructor):t.apply(e,n))}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},N.apply(null,arguments)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}var J=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=F(this,t,[e]))._image=n._popupElement.querySelector("#popup-image-full"),n._title=n._popupElement.querySelector("#popup-image-title"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(t,e),n=t,(r=[{key:"open",value:function(e,n){N(M(t.prototype),"open",this).call(this),this._image.src=n,this._title.textContent=e}}])&&V(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function Q(e){var t=function(e,t){if("object"!=z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}function W(e,t,n){return t=Z(t),function(e,t){if(t&&("object"==z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,X()?Reflect.construct(t,n||[],Z(e).constructor):t.apply(e,n))}function X(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(X=function(){return!!e})()}function Y(){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Y.apply(null,arguments)}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function $(e,t){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$(e,t)}var ee=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=W(this,t,[e]))._formElement=r._popupElement.querySelector("#form-card-delete"),r._handleFormSubmit=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}(t,e),n=t,(r=[{key:"open",value:function(e){Y(Z(t.prototype),"open",this).call(this),this._userId=e}},{key:"setHandleFormSubmit",value:function(e){this._handleFormSubmit=e}},{key:"setEventListeners",value:function(){var e=this;Y(Z(t.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._userId)}))}},{key:"close",value:function(){Y(Z(t.prototype),"close",this).call(this)}}])&&K(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(P);function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,re(r.key),r)}}function re(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==te(t)?t:t+""}var oe=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rendererItems=r,this._renderer=o,this._container=document.querySelector(n)},(t=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"renderItems",value:function(){var e=this;this._rendererItems.forEach((function(t){e._renderer(t)}))}}])&&ne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ae(r.key),r)}}function ae(e){var t=function(e,t){if("object"!=ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ie(t)?t:t+""}var ce=function(){return e=function e(t){var n=t.nameSelector,r=t.aboutSelector,o=t.userId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r),this._userId=o,this.avatar=document.querySelector(".profile__avatar")},(t=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about,this._userAbout=e.about,this._userId=e._id,this.avatar.src=e.avatar}},{key:"getUserId",value:function(){return{user:this._userId}}}])&&ue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fe(r.key),r)}}function fe(e){var t=function(e,t){if("object"!=se(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==se(t)?t:t+""}var pe=new(function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers},(t=[{key:"getInitialCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{method:"GET",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"editProfile",value:function(e){return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"createNewCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"removeCards",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"addLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"removeLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"editAvatar",value:function(e){return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e.url})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}])&&le(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}())({baseUrl:"https://around.nomoreparties.co/v1/web_es_11",headers:{authorization:"32f87aad-b5d6-486a-8cf8-15bc7c265d11","Content-Type":"application/json"}});pe.getInitialCards().then((function(e){var t=new oe({items:e,renderer:function(e){var n=ve(e);t.addItem(n)}},".elements");t.renderItems()}));var ye=new ce({nameSelector:".profile__name",aboutSelector:".profile__about",avatarSelector:".profile__avatar"});pe.getUserInfo().then((function(e){ye.setUserInfo(e)}));var me=new U("#popup-avatar",(function(e){pe.editAvatar(e).then((function(e){ye.setUserInfo(e)}))})),de=new U("#popup-profile",(function(e){pe.editProfile(e).then((function(e){r.textContent=e.name,o.textContent=e.about}))})),he=new ee("#popup-delete-card",(function(e){pe.removeCards(e).then((function(e){return e}))}));function ve(e){var t=new _(e,ye._userId,(function(){be.open(e.name,e.link)}),(function(){return pe.addLike(e._id)}),(function(){return pe.removeLike(e._id)}),(function(){he.open(t._id),he.setHandleFormSubmit((function(){pe.removeCards(t._id).then((function(e){t.removeCard()}))}))}));return t.generateCard()}p.addEventListener("click",(function(){he.close()}));var be=new J("#popup-image"),_e=new U("#popup-card",(function(e){pe.createNewCard(e).then((function(e){var t=ve(e);f.prepend(t)}))}));de.setEventListeners(),_e.setEventListeners(),be.setEventListeners(),he.setEventListeners(),me.setEventListeners(),e.addEventListener("click",(function(){me.open()})),t.addEventListener("click",(function(){me.close()})),a.addEventListener("click",(function(){de.open()})),u.addEventListener("click",(function(){_e.open()})),m.addEventListener("click",(function(){be.close()})),n.addEventListener("click",(function(){de.close()})),c.addEventListener("click",(function(){_e.close()})),d.addEventListener("click",(function(){he.close()})),new E(s,{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button-save",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorMessageClass:"popup__input-error"}).enableValidation(),new E(i,{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button-save",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorMessageClass:"popup__input-error"}).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBUyxXQUNuQzBILEdBQWFLLE1BQ2YsSUFFQTFMLEVBQW1CMkQsaUJBQWlCLFNBQVMsV0FDM0NxSSxHQUFVTixNQUNaLElBRUFsTCxFQUFzQm1ELGlCQUFpQixTQUFTLFdBQzlDcEQsR0FBVzhGLE9BQ2IsSUFFQXpHLEVBQVkrRCxpQkFBaUIsU0FBUyxXQUNwQzBILEdBQWFoRixPQUNmLElBRUFuRyxFQUFnQnlELGlCQUFpQixTQUFTLFdBQ3hDcUksR0FBVTNGLE9BQ1osSUFDQTVGLEVBQXVCa0QsaUJBQWlCLFNBQVMsV0FDL0M0SCxHQUFpQmxGLE9BQ25CLElBRWtCLElBQUlyQyxFQUFjN0QsRUFBYyxDQUNoRGdNLGFBQWMsZUFDZDVHLGNBQWUsZ0JBQ2ZDLHFCQUFzQixzQkFDdEJMLG9CQUFxQix5QkFDckJWLGdCQUFpQiwwQkFDakJFLGtCQUFtQix1QkFHWHlILG1CQUVlLElBQUlwSSxFQUFjakUsRUFBaUIsQ0FDMURvTSxhQUFjLGVBQ2Q1RyxjQUFlLGdCQUNmQyxxQkFBc0Isc0JBQ3RCTCxvQkFBcUIseUJBQ3JCVixnQkFBaUIsMEJBQ2pCRSxrQkFBbUIsdUJBR0p5SCxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGVkaXRBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1pY29uXCIpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uQXZhdGFyQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nsb3NlLWZvcm0tYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nsb3NlLXByb2ZpbGUtZm9ybVwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hYm91dFwiKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1TYXZlUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybS1wcm9maWxlXCIpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1idXR0b24tc2F2ZVwiKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5DYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiXHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgaW5wdXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0LXVybC1hdmF0YXJcIik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0Q2FyZE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0LWNhcmRcIik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25DbG9zZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nsb3NlLWNhcmQtZm9ybVwiKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0Q2FyZExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0LWxpbmtcIik7XHJcbmV4cG9ydCBjb25zdCBmb3JtU2F2ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm0tY2FyZFwiKTtcclxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50ZW1wbGF0ZV9fY2FyZFwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkRlbGV0ZUNvbmZpcm1hdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjZGVsZXRlLWNhcmQtYnV0dG9uXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvblRyYXNoQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZWxlbWVudF9fZGVsZXRlLWJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cENoYW5nZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtY2hhbmdlLWF2YXRhclwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLWltYWdlXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZUZ1bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLWltYWdlLWZ1bGxcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLWltYWdlLXRpdGxlXCIpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uQ2xvc2VQb3B1cEltYWdlID1cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nsb3NlLXBvcHVwLWltYWdlXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkNsb3NlRGVsZXRlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI2Nsb3NlLWZvcm0tZGVsZXRlLWNhcmRcIlxyXG4pO1xyXG4iLCJpbXBvcnQge1xyXG4gIGJ1dHRvbkNsb3NlUG9wdXBJbWFnZSxcclxuICBwb3B1cEltYWdlLFxyXG4gIHRlbXBsYXRlLFxyXG59IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGl0ZW0sXHJcbiAgICB1c2VySWQsXHJcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICBoYW5kbGVBZGRMaWtlLFxyXG4gICAgaGFuZGxlUmVtb3ZlTGlrZSxcclxuICAgIGhhbmRsZURlbGV0ZUNhcmRcclxuICApIHtcclxuICAgIHRoaXMuX25hbWUgPSBpdGVtLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gaXRlbS5saW5rO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBpdGVtLmxpa2VzO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5faWQgPSBpdGVtLl9pZDtcclxuICAgIHRoaXMub3duZXIgPSBpdGVtLm93bmVyO1xyXG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUFkZExpa2UgPSBoYW5kbGVBZGRMaWtlO1xyXG4gICAgdGhpcy5faGFuZGxlUmVtb3ZlTGlrZSA9IGhhbmRsZVJlbW92ZUxpa2U7XHJcbiAgICB0aGlzLmhhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gIH1cclxuXHJcbiAgZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICByZXR1cm4gdGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0UHJvcGVydGllcygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190ZXh0XCIpO1xyXG4gICAgdGhpcy5fYnV0dG9ubGlrZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlciA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWNvdW50ZXJcIik7XHJcbiAgICB0aGlzLl9idXR0b25UcmFzaENhcmQgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlLWJ1dHRvblwiKTtcclxuICAgIGlmICh0aGlzLm93bmVyLl9pZCAhPT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvblRyYXNoQ2FyZC5yZW1vdmUoKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9ubGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyogaGFuZGxlTGlrZSgpIHtcclxuICAgIGNvbnN0IHVzZXJMaWtlZCA9IHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gICAgaWYgKHVzZXJMaWtlZCkge1xyXG4gICAgICB0aGlzLl9oYW5kbGVBZGRMaWtlKHRoaXMuX2lkKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gcmVzcG9uc2UubGlrZXM7XHJcbiAgICAgICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gcmVzcG9uc2UubGlrZXMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbmxpa2UuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19oZWFydC1hY3RpdmVcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlTGlrZSh0aGlzLl9pZCk7XHJcbiAgICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHJlc3BvbnNlLmxpa2VzLmxlbmd0aDtcclxuICAgICAgdGhpcy5fYnV0dG9ubGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX2hlYXJ0LWFjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9Ki9cclxuXHJcbiAgX2hhbmRsZU9wZW5DYXJkKCkge1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XHJcbiAgICBwb3B1cEltYWdlLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9faW1hZ2Vfc2hvd1wiKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2VGdWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1pbWFnZS1mdWxsXCIpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1pbWFnZS10aXRsZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2VGdWxsLnNyYyA9IHRoaXMuX2NhcmRJbWFnZS5zcmM7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQ7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlRnVsbC5hbHQgPSB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICByZW1vdmVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUxpa2UoKSB7XHJcbiAgICBpZiAoIXRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpKSB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUFkZExpa2UodGhpcy5faWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9ubGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHJlc3BvbnNlLmxpa2VzLmxlbmd0aDtcclxuICAgICAgICB0aGlzLl9saWtlcyA9IHJlc3BvbnNlLmxpa2VzO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UodGhpcy5faWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9ubGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHJlc3BvbnNlLmxpa2VzLmxlbmd0aDtcclxuICAgICAgICB0aGlzLl9saWtlcyA9IHJlc3BvbnNlLmxpa2VzO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fYnV0dG9ubGlrZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZUxpa2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2J1dHRvblRyYXNoQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZURlbGV0ZUNhcmQodGhpcy5faWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZU9wZW5DYXJkKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLnNldFByb3BlcnRpZXMoKTtcclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCwgc2V0dGluZ3MpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmVycm9yTWVzc2FnZUNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvck1lc3NhZ2VDbGFzcyk7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLmlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5pbnB1dExpc3QpKSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLmlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLmJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuaW5wdXRMaXN0KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfc2hvd1wiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9zaG93XCIpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9faW1hZ2Vfc2hvd1wiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNhdmVidXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b25TYXZlSW5mby50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiO1xyXG4gIH1cclxuICBfc2F2ZUNoYW5nZXNCdXR0b24oKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgICAgdGhpcy5fYnV0dG9uU2F2ZUluZm8udGV4dENvbnRlbnQgPSBcIkd1YXJkYW5kby4uLlwiO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXBFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgIHRoaXMuaW5wdXRMaXN0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2J1dHRvblNhdmVJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uLXNhdmVcIik7XHJcbiAgfVxyXG5cclxuICBnZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgY29uc29sZS5sb2coXCJ0aGlzLmlucHV0TGlzdFwiLCB0aGlzLmlucHV0TGlzdCk7XHJcbiAgICB0aGlzLmlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLmZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2coXCJ0aGlzLmZvcm1WYWx1ZXNcIiwgdGhpcy5mb3JtVmFsdWVzKTtcclxuICAgIHJldHVybiB0aGlzLmZvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzYXZlYnV0dG9uKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uU2F2ZUluZm8udGV4dENvbnRlbnQgPSBcIkd1YXJkYXJcIjtcclxuICB9XHJcblxyXG4gIF9zYXZlQ2hhbmdlc0J1dHRvbigpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgICB0aGlzLl9idXR0b25TYXZlSW5mby50ZXh0Q29udGVudCA9IFwiR3VhcmRhbmRvLi4uXCI7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgICB0aGlzLl9idXR0b25TYXZlSW5mby50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAodGhpcy5fYnV0dG9uU2F2ZUluZm8udGV4dENvbnRlbnQgPSBcIkd1YXJkYW5kby4uLlwiKSxcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuX3NhdmVDaGFuZ2VzQnV0dG9uKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1pbWFnZS1mdWxsXCIpO1xyXG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1pbWFnZS10aXRsZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm0tY2FyZC1kZWxldGVcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICB9XHJcblxyXG4gIG9wZW4oaWQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX3VzZXJJZCA9IGlkO1xyXG4gIH1cclxuICBzZXRIYW5kbGVGb3JtU3VibWl0KGZvcm1TdWJtaXQpIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBmb3JtU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX3VzZXJJZCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVySXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZXJJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgYWJvdXRTZWxlY3RvciwgdXNlcklkIH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLmF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnQsXHJcbiAgICAgIC8vYXZhdGFyOiB0aGlzLmF2YXRhci5zcmMsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgIHRoaXMuX3VzZXJBYm91dCA9IGRhdGEuYWJvdXQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlcklkKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdXNlcjogdGhpcy5fdXNlcklkLFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFwiLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuaW1wb3J0IHtcclxuICBidXR0b25FZGl0LFxyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVBYm91dCxcclxuICBmb3JtU2F2ZVByb2ZpbGUsXHJcbiAgYnV0dG9uU2F2ZSxcclxuICBidXR0b25DbG9zZSxcclxuICBidXR0b25PcGVuQ2FyZEZvcm0sXHJcbiAgaW5wdXRDYXJkTmFtZSxcclxuICBidXR0b25DbG9zZUNhcmQsXHJcbiAgYnV0dG9uVHJhc2hDYXJkLFxyXG4gIGlucHV0Q2FyZExpbmssXHJcbiAgZm9ybVNhdmVDYXJkLFxyXG4gIHRlbXBsYXRlLFxyXG4gIGNhcmRzQ29udGFpbmVyLFxyXG4gIHBvcHVwSW1hZ2VGdWxsLFxyXG4gIHBvcHVwSW1hZ2VUaXRsZSxcclxuICBidXR0b25EZWxldGVDb25maXJtYXRpb24sXHJcbiAgYnV0dG9uQ2xvc2VQb3B1cEltYWdlLFxyXG4gIGJ1dHRvbkNsb3NlRGVsZXRlSW1hZ2UsXHJcbiAgYnV0dG9uQXZhdGFyQ2xvc2UsXHJcbiAgZWRpdEF2YXRhckJ1dHRvbixcclxuICBpbnB1dEF2YXRhcixcclxufSBmcm9tIFwiLi9zY3JpcHRzL3V0aWxzLmpzXCI7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzExXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCIzMmY4N2FhZC1iNWQ2LTQ4NmEtOGNmOC0xNWJjN2MyNjVkMTFcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuYXBpLmdldEluaXRpYWxDYXJkcygpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gIGNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAgICB7XHJcbiAgICAgIGl0ZW1zOiByZXN1bHQsXHJcbiAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChpdGVtKTtcclxuICAgICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBcIi5lbGVtZW50c1wiXHJcbiAgKTtcclxuICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG59KTtcclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIGFib3V0U2VsZWN0b3I6IFwiLnByb2ZpbGVfX2Fib3V0XCIsXHJcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2F2YXRhclwiLFxyXG59KTtcclxuXHJcbmFwaS5nZXRVc2VySW5mbygpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlc3VsdCk7XHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBDaGFuZ2VBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNwb3B1cC1hdmF0YXJcIiwgKGlucHV0cykgPT4ge1xyXG4gIGFwaS5lZGl0QXZhdGFyKGlucHV0cykudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwLXByb2ZpbGVcIiwgKGlucHV0cykgPT4ge1xyXG4gIGFwaS5lZGl0UHJvZmlsZShpbnB1dHMpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSByZXMubmFtZTtcclxuICAgIHByb2ZpbGVBYm91dC50ZXh0Q29udGVudCA9IHJlcy5hYm91dDtcclxuICB9KTtcclxufSk7XHJcbmNvbnN0IHBvcHVwRGVsZXRlSW1hZ2UgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFxyXG4gIFwiI3BvcHVwLWRlbGV0ZS1jYXJkXCIsXHJcbiAgKGNhcmRJZCkgPT4ge1xyXG4gICAgYXBpLnJlbW92ZUNhcmRzKGNhcmRJZCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9KTtcclxuICB9XHJcbik7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICBpdGVtLFxyXG4gICAgdXNlckluZm8uX3VzZXJJZCxcclxuICAgICgpID0+IHtcclxuICAgICAgcG9wdXBJbWFnZS5vcGVuKGl0ZW0ubmFtZSwgaXRlbS5saW5rKTtcclxuICAgIH0sXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIHJldHVybiBhcGkuYWRkTGlrZShpdGVtLl9pZCk7XHJcbiAgICB9LFxyXG4gICAgKCkgPT4ge1xyXG4gICAgICByZXR1cm4gYXBpLnJlbW92ZUxpa2UoaXRlbS5faWQpO1xyXG4gICAgfSxcclxuICAgICgpID0+IHtcclxuICAgICAgcG9wdXBEZWxldGVJbWFnZS5vcGVuKGNhcmQuX2lkKTtcclxuICAgICAgcG9wdXBEZWxldGVJbWFnZS5zZXRIYW5kbGVGb3JtU3VibWl0KCgpID0+IHtcclxuICAgICAgICBhcGkucmVtb3ZlQ2FyZHMoY2FyZC5faWQpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn1cclxuYnV0dG9uRGVsZXRlQ29uZmlybWF0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBEZWxldGVJbWFnZS5jbG9zZSgpO1xyXG59KTtcclxuY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwb3B1cC1pbWFnZVwiKTtcclxuXHJcbmNvbnN0IHBvcHVwQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwLWNhcmRcIiwgKGlucHV0cykgPT4ge1xyXG4gIGFwaS5jcmVhdGVOZXdDYXJkKGlucHV0cykudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChyZXN1bHQpO1xyXG4gICAgY2FyZHNDb250YWluZXIucHJlcGVuZChjYXJkKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5wb3B1cFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBEZWxldGVJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cENoYW5nZUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwQ2hhbmdlQXZhdGFyLm9wZW4oKTtcclxufSk7XHJcblxyXG5idXR0b25BdmF0YXJDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwQ2hhbmdlQXZhdGFyLmNsb3NlKCk7XHJcbn0pO1xyXG5cclxuYnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYnV0dG9uT3BlbkNhcmRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBDYXJkLm9wZW4oKTtcclxufSk7XHJcblxyXG5idXR0b25DbG9zZVBvcHVwSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cEltYWdlLmNsb3NlKCk7XHJcbn0pO1xyXG5cclxuYnV0dG9uQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cFByb2ZpbGUuY2xvc2UoKTtcclxufSk7XHJcblxyXG5idXR0b25DbG9zZUNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cENhcmQuY2xvc2UoKTtcclxufSk7XHJcbmJ1dHRvbkNsb3NlRGVsZXRlSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cERlbGV0ZUltYWdlLmNsb3NlKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybVNhdmVDYXJkLCB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uLXNhdmVcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvck1lc3NhZ2VDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JcIixcclxufSk7XHJcblxyXG52YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgdmFsaWRhdG9yUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1TYXZlUHJvZmlsZSwge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvbi1zYXZlXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JNZXNzYWdlQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yXCIsXHJcbn0pO1xyXG5cclxudmFsaWRhdG9yUHJvZmlsZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNvbnN0IG51bWJlcnMgPSBbMiwgMywgNV07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVkaXRQcm9maWxlKGlucHV0cykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBpbnB1dHMubmFtZSxcclxuICAgICAgICBhYm91dDogaW5wdXRzLmFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjoke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZU5ld0NhcmQoaW5wdXRzKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogaW5wdXRzLm5hbWUsXHJcbiAgICAgICAgbGluazogaW5wdXRzLmxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmRzKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZWRpdEF2YXRhcihpbnB1dHMpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogaW5wdXRzLnVybCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZWRpdEF2YXRhckJ1dHRvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJ1dHRvbkF2YXRhckNsb3NlIiwiYnV0dG9uQ2xvc2UiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVBYm91dCIsImZvcm1TYXZlUHJvZmlsZSIsImJ1dHRvbk9wZW5DYXJkRm9ybSIsImJ1dHRvbkVkaXQiLCJidXR0b25DbG9zZUNhcmQiLCJmb3JtU2F2ZUNhcmQiLCJ0ZW1wbGF0ZSIsImNhcmRzQ29udGFpbmVyIiwiYnV0dG9uRGVsZXRlQ29uZmlybWF0aW9uIiwicG9wdXBJbWFnZSIsImJ1dHRvbkNsb3NlUG9wdXBJbWFnZSIsImJ1dHRvbkNsb3NlRGVsZXRlSW1hZ2UiLCJDYXJkIiwiaXRlbSIsInVzZXJJZCIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUFkZExpa2UiLCJoYW5kbGVSZW1vdmVMaWtlIiwiaGFuZGxlRGVsZXRlQ2FyZCIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl91c2VySWQiLCJfaWQiLCJvd25lciIsIl9jYXJkIiwiZ2V0VGVtcGxhdGUiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUFkZExpa2UiLCJfaGFuZGxlUmVtb3ZlTGlrZSIsImtleSIsInZhbHVlIiwiY2xvbmVOb2RlIiwiY29udGVudCIsIl90aGlzIiwiX2NhcmRJbWFnZSIsIl9jYXJkVGl0bGUiLCJfYnV0dG9ubGlrZSIsIl9saWtlc0NvdW50ZXIiLCJfYnV0dG9uVHJhc2hDYXJkIiwicmVtb3ZlIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJzcmMiLCJzb21lIiwibGlrZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImFkZCIsIl9wb3B1cEltYWdlRnVsbCIsIl9wb3B1cEltYWdlVGl0bGUiLCJhbHQiLCJfdGhpczIiLCJ0aGVuIiwicmVzcG9uc2UiLCJfdGhpczMiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlTGlrZSIsIl9oYW5kbGVPcGVuQ2FyZCIsInNldFByb3BlcnRpZXMiLCJzZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsInNldHRpbmdzIiwiX2Zvcm1FbGVtZW50IiwiX3NldHRpbmdzIiwiaW5wdXRFbGVtZW50IiwiX2Vycm9yRWxlbWVudCIsImNvbmNhdCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvck1lc3NhZ2VDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dExpc3QiLCJfaGFzSW52YWxpZElucHV0IiwiYnV0dG9uRWxlbWVudCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwiX2J1dHRvblNhdmVJbmZvIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwidGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsIl9Qb3B1cCIsImhhbmRsZUZvcm1TdWJtaXQiLCJfY2FsbFN1cGVyIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5oZXJpdHMiLCJmb3JtVmFsdWVzIiwiY29uc29sZSIsImxvZyIsImlucHV0IiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImNhbGwiLCJyZXNldCIsIl90aGlzNCIsImdldElucHV0VmFsdWVzIiwiX3NhdmVDaGFuZ2VzQnV0dG9uIiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2UiLCJfdGl0bGUiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJmb3JtU3VibWl0IiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZXJJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwiYXBwZW5kIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiX2Fib3V0IiwiYXZhdGFyIiwiYWJvdXQiLCJkYXRhIiwiX3VzZXJBYm91dCIsInVzZXIiLCJhcGkiLCJBcGkiLCJvcHRpb25zIiwiYmFzZVVybCIsImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsInJlcyIsIm9rIiwianNvbiIsInJlamVjdCIsInN0YXR1cyIsImlucHV0cyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwidXJsIiwiYXV0aG9yaXphdGlvbiIsImdldEluaXRpYWxDYXJkcyIsInJlc3VsdCIsImNhcmRTZWN0aW9uIiwiY2FyZEVsZW1lbnQiLCJjcmVhdGVDYXJkIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwidXNlckluZm8iLCJhdmF0YXJTZWxlY3RvciIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJwb3B1cENoYW5nZUF2YXRhciIsImVkaXRBdmF0YXIiLCJwb3B1cFByb2ZpbGUiLCJlZGl0UHJvZmlsZSIsInBvcHVwRGVsZXRlSW1hZ2UiLCJyZW1vdmVDYXJkcyIsImNhcmQiLCJvcGVuIiwiYWRkTGlrZSIsInJlbW92ZUxpa2UiLCJzZXRIYW5kbGVGb3JtU3VibWl0IiwicmVtb3ZlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsInBvcHVwQ2FyZCIsImNyZWF0ZU5ld0NhcmQiLCJwcmVwZW5kIiwiZm9ybVNlbGVjdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=